># Interpolation blocks
#^^^^^^^^^^^^^^^^^^^^^^ source.just comment.line.number-sign.just
>
># TODO: interpolation blocks always color as strings since we can't
#^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ source.just comment.line.number-sign.just
># effectively push scope for nested string/escape blocks
#^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ source.just comment.line.number-sign.just
>
>base:
#^^^^ source.just entity.name.function.just
#    ^ source.just keyword.operator.recipe.end.just
>  echo {{var}} {{ var }}
#^^^^^^^ source.just meta.recipe.body.just
#       ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#         ^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#            ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#              ^ source.just meta.recipe.body.just
#               ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                 ^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                      ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
>  echo {{ a + 'b' + c }}
#^^^^^^^ source.just meta.recipe.body.just
#       ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#         ^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just keyword.operator.concat.just
#             ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#              ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#               ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                 ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                  ^ source.just meta.recipe.body.just string.interpolated.escaping.just keyword.operator.concat.just
#                   ^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                      ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
>  echo {{ 'a' / 'b' }}
#^^^^^^^ source.just meta.recipe.body.just
#       ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#         ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#          ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#             ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#              ^ source.just meta.recipe.body.just string.interpolated.escaping.just keyword.operator.path-join.just
#               ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#                 ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                  ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                   ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                    ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
>  echo '{{ var }}'
#^^^^^^^^ source.just meta.recipe.body.just
#        ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#          ^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#               ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                 ^^ source.just meta.recipe.body.just
>  echo '''{{ var }}'''
#^^^^^^^^^^ source.just meta.recipe.body.just
#          ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#            ^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                 ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                   ^^^^ source.just meta.recipe.body.just
>  echo '{{ 'var' }}'
#^^^^^^^^ source.just meta.recipe.body.just
#        ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#          ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#            ^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#               ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                 ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                   ^^ source.just meta.recipe.body.just
>  echo '''{{ 'var' }}'''
#^^^^^^^^^^ source.just meta.recipe.body.just
#          ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#             ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#              ^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                 ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                  ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                   ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                     ^^^^ source.just meta.recipe.body.just
>
># Braces are escaped
#^^^^^^^^^^^^^^^^^^^^ source.just comment.line.number-sign.just
>
>escaped:
#^^^^^^^ source.just entity.name.function.just
#       ^ source.just keyword.operator.recipe.end.just
>  echo '{{{{ var }}'
#^^^^^^^^^^^^^^^^^^^^^ source.just meta.recipe.body.just
>  echo '''{{{{ var }}'''
#^^^^^^^^^^^^^^^^^^^^^^^^^ source.just meta.recipe.body.just
>  echo {{{{ var }}
#^^^^^^^^^^^^^^^^^^^ source.just meta.recipe.body.just
>  echo '{{ "{{" }} var }}'
#^^^^^^^^ source.just meta.recipe.body.just
#        ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#          ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just string.quoted.double.just
#            ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#              ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#               ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                  ^^^^^^^^^ source.just meta.recipe.body.just
>  echo {{ "{{" }} var }}
#^^^^^^^ source.just meta.recipe.body.just
#       ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#         ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#          ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just string.quoted.double.just
#           ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#             ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#              ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#               ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                 ^^^^^^^^ source.just meta.recipe.body.just
>  echo '{{'{{ var }}'}}'
#^^^^^^^^ source.just meta.recipe.body.just
#        ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#          ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#           ^^^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                  ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                    ^^^^^ source.just meta.recipe.body.just
>  # TODO: broken nesting
#^^^^^^^^^^^^^^^^^^^^^^^^^ source.just meta.recipe.body.just
>  # echo {{ '{{ var }}' }}
#^^^^^^^^^ source.just meta.recipe.body.just
#         ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just string.quoted.single.just
#             ^^^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.single.just
#                    ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                      ^^^^^ source.just meta.recipe.body.just
>  # echo {{ "{{ var" }} }}
#^^^^^^^^^ source.just meta.recipe.body.just
#         ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just string.quoted.double.just
#             ^^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#                   ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#                    ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#                     ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                       ^^^^ source.just meta.recipe.body.just
>  # echo {{ "{{ 'var' }}" }}
#^^^^^^^^^ source.just meta.recipe.body.just
#         ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#           ^ source.just meta.recipe.body.just string.interpolated.escaping.just
#            ^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just string.quoted.double.just
#             ^^^^^^^^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.quoted.double.just
#                      ^^ source.just meta.recipe.body.just string.interpolated.escaping.just string.interpolated.escape.just
#                        ^^^^^ source.just meta.recipe.body.just
>